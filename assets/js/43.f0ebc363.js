(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{398:function(a,e,o){"use strict";o.r(e);var t=o(25),r=Object(t.a)({},(function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[o("h1",{attrs:{id:"app-manager-especificacao-das-regras"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#app-manager-especificacao-das-regras"}},[a._v("#")]),a._v(" App Manager: Especificação das Regras")]),a._v(" "),o("p",[o("em",[a._v("Vá para a "),o("a",{attrs:{href:"https://github.com/MuntashirAkon/AppManager/issues/24",target:"_blank",rel:"noopener noreferrer"}},[a._v("questão relacionada"),o("OutboundLink")],1),a._v(" para discussão.")])]),a._v(" "),o("p",[o("strong",[a._v("App Manager")]),a._v(" atualmente suporta o bloqueio de atividades, receptores de transmissão, provedores de conteúdo, serviços, operações de aplicativos e permissões, e no futuro posso adicionar mais opções de bloqueio. Para adicionar mais portabilidade, é necessário importar/exportar todos esses dados.")]),a._v(" "),o("details",{staticClass:"custom-block details"},[o("summary",[a._v("Tabela de Conteúdos")]),a._v(" "),o("p"),o("div",{staticClass:"table-of-contents"},[o("ul",[o("li",[o("a",{attrs:{href:"#plano-de-fundo"}},[a._v("Plano de Fundo")])]),o("li",[o("a",{attrs:{href:"#formato-do-arquivo-de-regras"}},[a._v("Formato do Arquivo de Regras")]),o("ul",[o("li",[o("a",{attrs:{href:"#interno"}},[a._v("Interno")])]),o("li",[o("a",{attrs:{href:"#externo"}},[a._v("Externo")])])])])])]),o("p")]),a._v(" "),o("h2",{attrs:{id:"plano-de-fundo"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#plano-de-fundo"}},[a._v("#")]),a._v(" Plano de Fundo")]),a._v(" "),o("p",[a._v("Todos os arquivos de configuração são armazenados em "),o("tt",[a._v("/data/data/io.github.muntashirakon.AppManager/Files/conf")]),a._v(", e "),o("tt",[a._v("/sdcard/Android/data/io.github.muntashirakon.AppManager/Files/ifw")]),a._v(" é usado como um armazenamento temporário. Este último diretório é mantido para fornecer compatibilidade para o App Manager v2.5.5 ou versões anteriores. Este último diretório será removido na v2.6, pois não está protegido para armazenar dados confidenciais no armazenamento compartilhado, pois qualquer aplicativo que tenha acesso a esses diretórios pode criar ou modificar esses arquivos.")],1),a._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[a._v("A partir da v2.5.6, este último diretório é mantido principalmente para armazenamento temporário. Se você estiver atualizando a partir da v2.5.5 ou versões mais antigas, certifique-se de aplicar o [Bloqueio global de componentes][gcb] que importará todas as regras deste diretório automaticamente (você pode desativar esta opção posteriormente). :::")]),a._v(" "),o("p",[a._v("Manter um banco de dados deve ser a melhor escolha quando se trata de armazenar dados. Mas por enquanto, eu vou estar usando vários arquivos "),o("code",[a._v("tsv")]),a._v(" com cada arquivo tendo o nome do pacote e uma extensão "),o("code",[a._v(".tsv")]),a._v(". O arquivo/banco de dados será consultado/processado pela classe "),o("code",[a._v("RulesStorageManager")]),a._v(". Devido a essa abstração, deve ser mais fácil mudar para sistemas de banco de dados ou de banco de dados criptografados no futuro sem alterar o design de todo o projeto.")]),a._v(" "),o("h2",{attrs:{id:"formato-do-arquivo-de-regras"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#formato-do-arquivo-de-regras"}},[a._v("#")]),a._v(" Formato do Arquivo de Regras")]),a._v(" "),o("h3",{attrs:{id:"interno"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#interno"}},[a._v("#")]),a._v(" Interno")]),a._v(" "),o("p",[a._v("O formato abaixo é usado internamente dentro do App Manager e "),o("em",[a._v("não é compatível com o formato externo.")])]),a._v(" "),o("div",{staticClass:"language- line-numbers-mode"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[a._v("<name> <type> <mode>|<component_status>|<is_granted>\n")])]),a._v(" "),o("div",{staticClass:"line-numbers-wrapper"},[o("span",{staticClass:"line-number"},[a._v("1")]),o("br")])]),o("p",[a._v("Onde:")]),a._v(" "),o("ul",[o("li",[o("code",[a._v("<name>")]),a._v(" - Componente/Permissão/Nome da operação de aplicativo (no caso da operação de aplicativo, pode ser uma string ou um número inteiro)")]),a._v(" "),o("li",[o("code",[a._v("<type>")]),a._v(" - Um dos "),o("code",[a._v("ACTIVITY")]),a._v(", "),o("code",[a._v("RECEIVER")]),a._v(", "),o("code",[a._v("PROVIDER")]),a._v(", "),o("code",[a._v("SERVICE")]),a._v(", "),o("code",[a._v("APP_OP")]),a._v(",  "),o("code",[a._v("PERMISSION")])]),a._v(" "),o("li",[o("code",[a._v("<mode>")]),a._v(" - (Para operações de aplicativo) O associado "),o("RouterLink",{attrs:{to:"/pt-BR/tech/AppOps.html#constantes-mode"}},[a._v("modo constante")])],1),a._v(" "),o("li",[o("code",[a._v("<component_status>")]),a._v(" - (Para componentes) Status do componente\n"),o("ul",[o("li",[o("code",[a._v("true")]),a._v(" - Componente foi aplicado ("),o("code",[a._v("true")]),a._v(" valor é mantido para compatibilidade)")]),a._v(" "),o("li",[o("code",[a._v("false")]),a._v(" - Componente ainda não foi aplicado, mas será aplicado no futuro ("),o("code",[a._v("false")]),a._v(" valor é mantido para compatibilidade)")]),a._v(" "),o("li",[o("code",[a._v("unblocked")]),a._v(" - O componente está programado para ser desbloqueado")])])]),a._v(" "),o("li",[o("code",[a._v("<is_granted>")]),a._v(" - (Para permissões) Se a permissão é concedida ou revogada")])]),a._v(" "),o("h3",{attrs:{id:"externo"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#externo"}},[a._v("#")]),a._v(" Externo")]),a._v(" "),o("p",[a._v("O formato externo é usado para importar ou exportar regras no App Manager.")]),a._v(" "),o("div",{staticClass:"language- line-numbers-mode"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[a._v("<package_name> <component_name> <type> <mode>|<component_status>|<is_granted>\n")])]),a._v(" "),o("div",{staticClass:"line-numbers-wrapper"},[o("span",{staticClass:"line-number"},[a._v("1")]),o("br")])]),o("p",[a._v("Este formato é essencialmente o mesmo que acima, exceto para o primeiro item que é o nome do pacote.")]),a._v(" "),o("div",{staticClass:"custom-block danger"},[o("p",{staticClass:"custom-block-title"},[a._v("Atenção")]),a._v(" "),o("p",[a._v("As regras exportadas têm um formato diferente do interno e não devem ser copiadas diretamente para a pasta "),o("strong",[a._v("conf")]),a._v(".")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);